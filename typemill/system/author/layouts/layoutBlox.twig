<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>{% block title %}{% endblock %}</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<meta name="description" content="Edit your TYPEMILL website" />
				
		<meta name="msapplication-TileColor" content="#F9F8F6" />
		<meta name="msapplication-TileImage" content="{{ base_url }}/system/author/img/favicon-144.png" />
		<link rel="icon" type="image/png" href="{{ base_url }}/system/author/img/favicon-16.png" sizes="16x16" />
		<link rel="icon" type="image/png" href="{{ base_url }}/system/author/img/favicon-32.png" sizes="32x32" />
		<link rel="apple-touch-icon" sizes="72x72" href="{{ base_url }}/system/author/img/favicon-72.png" />
		<link rel="apple-touch-icon" sizes="114x114" href="{{ base_url }}/system/author/img/favicon-114.png" />
		<link rel="apple-touch-icon" sizes="144x144" href="{{ base_url }}/system/author/img/favicon-144.png" />
		<link rel="apple-touch-icon" sizes="180x180" href="{{ base_url }}/system/author/img/favicon-180.png" />
		
		<link rel="stylesheet" href="{{ base_url }}/system/author/css/tachyons.min.css?v={{ settings.version }}" />
		<link rel="stylesheet" href="{{ base_url }}/system/author/css/style.css?v={{ settings.version }}" />

		{{ assets.renderCSS() }}

		{{ assets.renderEditorCSS() }}		

	</head>
	<body>
		
		{% include 'partials/symbols.twig' %}

		<header class="main-header">
			{% include 'partials/navi.twig' %}
		</header>
		{% include 'partials/flash.twig' %}
		<div class="main" id="main" data-url="{{ base_url }}">
			<aside class="sidebar">
				{% include 'partials/editorNavi.twig' %}
			</aside>
			<article>
				{% block content %}{% endblock %}
			</article>
			<footer></footer>
		</div>
		<script src="{{ base_url }}/system/author/js/axios.min.js?v={{ settings.version }}"></script>
		<script>
			const myaxios = axios.create();
			myaxios.defaults.baseURL =  "{{ base_url }}";
		</script>
		<script src="{{ base_url }}/system/author/js/typemillutils.js?v={{ settings.version }}"></script>
		<script src="{{ base_url }}/system/author/js/vue.min.js?v={{ settings.version }}"></script>
		<script>
				const FormBus = new Vue();
		</script>		
		<script src="{{ base_url }}/system/author/js/autosize.min.js?v={{ settings.version }}"></script>
		<script src="{{ base_url }}/system/author/js/author.js?v={{ settings.version }}"></script>
		<script src="{{ base_url }}/system/author/js/vue-publishcontroller.js?v={{ settings.version }}"></script>
		<script src="{{ base_url }}/system/author/js/vue-blox-config.js?v={{ settings.version }}"></script>
		<script>
			let formatConfig = {{ settings.formats|json_encode() }};
			let maxuploadsize = {{ settings.maxuploadsize }};
			let imagestandardwidth 	= {{ settings.images.live.width }};
      		let language = {{ settings.language|json_encode() }};
          	let labels = {{ translations|json_encode() }};
      		let navigation = {{ navigation|json_encode() }};
		</script>

		{{ assets.renderEditorJS() }}

		<script src="{{ base_url }}/system/author/js/vue-blox.js?v={{ settings.version }}"></script>
		{% if item.elementType == "folder" %}
			<script src="{{ base_url }}/system/author/js/vue-posts.js?v={{ settings.version }}"></script>
		{% else %}
      		<script>let posts = false;</script>
		{% endif %}
		<script src="{{ base_url }}/system/author/js/sortable.min.js?v={{ settings.version }}"></script>
		<script src="{{ base_url }}/system/author/js/vuedraggable.umd.min.js?v={{ settings.version }}"></script>
		<script src="{{ base_url }}/system/author/js/vue-navi.js?v={{ settings.version }}"></script>
		<script src="{{ base_url }}/system/author/js/vue-shared.js?v={{ settings.version }}"></script>
		<script src="{{ base_url }}/system/author/js/vue-meta.js?v={{ settings.version }}"></script>

		{{ assets.renderJS() }}

	</body>
</html>